# Base Prototypes
- type: entity
  parent: BaseStructure
  id: ESBaseComputerTerminal
  name: computer
  placement:
    mode: SnapgridCenter
  abstract: true
  components:
  - type: Sprite
    drawdepth: Objects
    sprite: Structures/Machines/computers.rsi
    noRot: true
    layers:
    - map: ["computerLayerBody"]
      sprite: _ES/Structures/Machines/computer.rsi
      state: terminal
    - map: ["computerLayerKeyboard"]
      state: generic_keyboard
    - map: ["computerLayerScreen"]
      state: generic
    - map: ["computerLayerKeys"]
      state: generic_keys
    - map: [ "enum.WiresVisualLayers.MaintenancePanel" ]
      state: generic_panel_open
  - type: Appearance
  - type: GenericVisualizer
    visuals:
      enum.ComputerVisuals.Powered:
        computerLayerScreen:
          True: { visible: true, shader: unshaded }
          False: { visible: false }
        computerLayerKeys:
          True: { visible: true, shader: unshaded }
          False: { visible: true, shader: shaded }
      enum.WiresVisuals.MaintenancePanelState:
        enum.WiresVisualLayers.MaintenancePanel:
          True: { visible: false }
          False: { visible: true }
  - type: Physics
    bodyType: Static
  - type: Fixtures
    fixtures:
      fix1:
        shape:
          !type:PhysShapeAabb
          bounds: "-0.25,-0.35,0.25,0.35"
        density: 190
        mask:
        - MachineMask
        layer:
        - MachineLayer
  - type: LitOnPowered
  - type: PointLight
    radius: 1.5
    energy: 1.6
    enabled: false
    mask: /Textures/Effects/LightMasks/cone.png
    autoRot: true
    offset: "0, 0.4" # shine from the top, not bottom of the computer
    castShadows: false
  - type: EmitSoundOnUIOpen
    sound:
      collection: Keyboard
      params:
        volume: -1
        variation: 0.10
        pitch: 1.10  # low pitch keyboard sounds feel kinda weird
    blacklist:
      tags:
      - NoConsoleSound
  - type: InteractionOutline
  - type: Rotatable
  - type: Anchorable
    flags:
    - Anchorable
  - type: Animateable
  - type: MeleeSound
    soundGroups:
      Brute:
        collection: GlassSmash
  - type: Computer
  - type: ApcPowerReceiver
    powerLoad: 200
  - type: ExtensionCableReceiver
  - type: ActivatableUIRequiresPower
  - type: LightningTarget
    priority: 1
  - type: RequireProjectileTarget
  - type: Electrified
    enabled: false
    usesApcPower: true
  - type: WiresPanel
  - type: WiresVisuals
  - type: Wires
    boardName: wires-board-name-computer
    layoutId: Computer
  - type: ContainerContainer
    containers:
      board: !type:Container

# Computers
- type: entity
  parent: BaseComputerAiAccess
  id: ESComputerEvacBeacon
  name: emergency beacon console
  description: A computer for broadcasting and coordinating emergency beacon signals. Used for hailing emergency shuttles.
  components:
  - type: Sprite
    layers:
    - map: ["computerLayerBody"]
      state: computer
    - map: ["computerLayerKeyboard"]
      state: generic_keyboard
    - map: ["computerLayerScreen"]
      state: comm
    - map: ["computerLayerKeys"]
      state: generic_keys
    - map: [ "enum.WiresVisualLayers.MaintenancePanel" ]
      state: generic_panel_open
  - type: AccessReader
    access: [[ "Command" ]]
  - type: ESEvacConsole
  - type: ActivatableUI
    key: enum.ESEvacUiKey.Key
  - type: UserInterface
    interfaces:
      enum.ESEvacUiKey.Key:
        type: ESEvacBeaconBui
      enum.WiresUiKey.Key:
        type: WiresBoundUserInterface
  - type: Computer
    board: ESComputerEvacBeaconCircuitBoard
  - type: PointLight
    radius: 1.5
    energy: 1.6
    color: "#3c5eb5"
  - type: Damageable
    damageContainer: StructuralInorganic
    damageModifierSet: StructuralMetallicStrong

- type: entity
  parent: BaseComputerAiAccess
  id: ESComputerWarehouseManifest
  name: warehouse manifest console
  description: A computer for cataloguing and viewing the goods inside the cargo bay.
  components:
  - type: Sprite
    layers:
    - map: ["computerLayerBody"]
      state: computer
    - map: ["computerLayerKeyboard"]
      state: generic_keyboard
    - map: ["computerLayerScreen"]
      state: request
    - map: ["computerLayerKeys"]
      state: generic_keys
    - map: [ "enum.WiresVisualLayers.MaintenancePanel" ]
      state: generic_panel_open
  - type: ESCargoManifestComputer
  - type: ActivatableUI
    key: enum.ESCargoManifestUiKey.Key
  - type: UserInterface
    interfaces:
      enum.ESCargoManifestUiKey.Key:
        type: ESWarehouseManifestBui
      enum.WiresUiKey.Key:
        type: WiresBoundUserInterface
  - type: Computer
    board: ESComputerWarehouseManifestCircuitBoard
  - type: PointLight
    radius: 1.5
    energy: 1.6
    color: "#b89f25"

- type: entity
  id: ESBaseComputerSupplyRequest
  name: supply request console
  description: A link into the central request system for the cargo department. Place your supply requests here and pray for them to be fulfilled.
  abstract: true
  suffix: ES
  components:
  - type: ESCargoRequestConsole
  - type: ActivatableUI
    key: enum.ESCargoRequestConsoleUiKey.Key
  - type: UserInterface
    interfaces:
      enum.ESCargoRequestConsoleUiKey.Key:
        type: ESCargoRequestConsoleBui
      enum.WiresUiKey.Key:
        type: WiresBoundUserInterface
  - type: Computer
    board: ESComputerSupplyRequestCircuitBoard
  - type: PointLight
    color: "#b89f25"

- type: entity
  parent: [ ESBaseComputerSupplyRequest, BaseComputerAiAccess ]
  id: ESComputerSupplyRequest
  components:
  - type: Sprite
    layers:
    - map: ["computerLayerBody"]
      state: computer
    - map: ["computerLayerKeyboard"]
      state: generic_keyboard
    - map: ["computerLayerScreen"]
      sprite: _ES/Structures/Machines/computer.rsi
      state: request-0
    - map: ["computerLayerKeys"]
      state: generic_keys
    - map: [ "enum.WiresVisualLayers.MaintenancePanel" ]
      state: generic_panel_open

- type: entity
  parent: ESComputerSupplyRequest
  id: ESComputerSupplyRequestCivilian
  suffix: ES, Civilian
  components:
  - type: ESCargoRequestConsole
    defaultConsoleId: department-Civilian

- type: entity
  parent: ESComputerSupplyRequest
  id: ESComputerSupplyRequestEngineering
  suffix: ES, Engineering
  components:
  - type: ESCargoRequestConsole
    defaultConsoleId: department-Engineering

- type: entity
  parent: ESComputerSupplyRequest
  id: ESComputerSupplyRequestMedical
  suffix: ES, Medical
  components:
  - type: ESCargoRequestConsole
    defaultConsoleId: department-Medical

- type: entity
  parent: ESComputerSupplyRequest
  id: ESComputerSupplyRequestScience
  suffix: ES, Science
  components:
  - type: ESCargoRequestConsole
    defaultConsoleId: department-Science

- type: entity
  parent: ESComputerSupplyRequest
  id: ESComputerSupplyRequestSecurity
  suffix: ES, Security
  components:
  - type: ESCargoRequestConsole
    defaultConsoleId: department-Security

- type: entity
  parent: ESComputerSupplyRequest
  id: ESComputerSupplyRequestService
  suffix: ES, Service
  components:
  - type: ESCargoRequestConsole
    defaultConsoleId: department-Service

- type: entity
  parent: [ ESBaseComputerSupplyRequest, BaseComputerAiAccess ]
  id: ESComputerSupplyRequestMaster
  name: master supply request console
  description: The linchpin of the request system, able to field, view, and manipulate supply requests from across the station.
  components:
  - type: Sprite
    layers:
    - map: ["computerLayerBody"]
      state: computer
    - map: ["computerLayerKeyboard"]
      state: generic_keyboard
    - map: ["computerLayerScreen"]
      sprite: _ES/Structures/Machines/computer.rsi
      state: request-0
    - map: ["computerLayerKeys"]
      state: generic_keys
    - map: [ "enum.WiresVisualLayers.MaintenancePanel" ]
      state: generic_panel_open
  - type: ESCargoRequestConsole
    masterConsole: true
  - type: Computer
    board: ESComputerSupplyRequestMasterCircuitBoard

- type: entity
  parent: ESBaseComputerTerminal
  id: ESBaseComputerTerminalCryptoNuke
  name: nuclear cryptographic terminal
  description: Part of a triad of terminals that interface with the station's nuclear defenses. Capable of tracking the nuclear disk and, if compromised, providing the nuclear codes.
  components:
  - type: Sprite
    layers:
    - map: ["computerLayerBody"]
      sprite: _ES/Structures/Machines/computer.rsi
      state: terminal
    - map: ["computerLayerKeyboard"]
      state: security_key_off
    - map: ["computerLayerScreen"]
      sprite: _ES/Structures/Machines/computer.rsi
      state: cryptonuke
    - map: ["computerLayerKeys"]
      state: security_key
    - map: [ "enum.WiresVisualLayers.MaintenancePanel" ]
      state: generic_panel_open
  - type: ESCryptoNukeConsole
  - type: PointLight
    color: "#ff0000"
  - type: ActivatableUI
    key: enum.ESCryptoNukeConsoleUiKey.Key
  - type: UserInterface
    interfaces:
      enum.ESCryptoNukeConsoleUiKey.Key:
        type: ESCryptoNukeConsoleBui
      enum.WiresUiKey.Key:
        type: WiresBoundUserInterface

- type: entity
  parent: ESBaseComputerTerminal
  id: ESBaseComputerTerminalTelesci
  name: telescience terminal
  description: A hefty terminal that controls the advanced portal generator in the heart of science.
  components:
  - type: Sprite
    layers:
    - map: ["computerLayerBody"]
      sprite: _ES/Structures/Machines/computer.rsi
      state: terminal
    - map: ["computerLayerKeyboard"]
      state: teleport_key_off
    - map: ["computerLayerScreen"]
      state: teleport
    - map: ["computerLayerKeys"]
      state: teleport_key
    - map: [ "enum.WiresVisualLayers.MaintenancePanel" ]
      state: generic_panel_open
  - type: ESPortalGeneratorConsole
  - type: PointLight
    color: "#0099ff"
  - type: ActivatableUI
    key: enum.ESPortalGeneratorConsoleUiKey.Key
  - type: UserInterface
    interfaces:
      enum.ESPortalGeneratorConsoleUiKey.Key:
        type: ESPortalGeneratorConsoleBui
      enum.WiresUiKey.Key:
        type: WiresBoundUserInterface
